<div class="invoice-container">
  <h2>Sieve Analysis Test</h2>

  <div class="text-center" style="width: 70vw;">
    <canvas #chartCanvas style="width: 100%; height: 500px;"></canvas>
  </div>

  <table class ="table1">
    <tr>
      <th>%Gravel</th>
      <th>%Sand</th>
      <th>%Silt</th>
      <th>%Clay</th>
    </tr>

    <tr>
      <td>{{ gravelRowResult | number:'1.2-2' }}</td>
      <td>{{ sandRowResult   | number:'1.2-2' }}</td>
      <td colspan="2">{{ siltRowResult | number:'1.2-2' }}</td>
    </tr>

  </table>

  <table class="table1">
    <tr>
      <th colspan = "2">Sieve sizes</th>
      <th colspan = "2">Retained Weight (gm)</th>
      <th colspan = "2">Percent</th>
      <th>Expand</th>
      <th rowspan = "2">Specification Limits</th>
    </tr>

    <tr>
      <th>Inch</th>
      <th>mm</th>
      <th>Individual</th>
      <th>Cumulative</th>
      <th>Retained% </th>
      <th>Passing% </th>
      <th>K.2</th>
    </tr>

    <tr>
      <td>3</td>
      <td>75.0</td>
      <td>{{this.sieveAnalysis.individualA}}</td>
      <td>{{this.sieveAnalysis.cumulativeA}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeA, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeA, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandA}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsA}}</td>
    </tr>

    <tr>
      <td>21/2</td>
      <td>62.5</td>
      <td>{{this.sieveAnalysis.individualB}}</td>
      <td>{{this.sieveAnalysis.cumulativeB}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeB, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeB, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandB}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsB}}</td>
    </tr>

    <tr>
      <td>2</td>
      <td>50.0</td>
      <td>{{this.sieveAnalysis.individualC}}</td>
      <td>{{this.sieveAnalysis.cumulativeC}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeC, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeC, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandC}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsC}}</td>
    </tr>

    <tr>
      <td>11/2</td>
      <td>37.5</td>
      <td>{{this.sieveAnalysis.individualD}}</td>
      <td>{{this.sieveAnalysis.cumulativeD}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeD, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeD, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandD}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsD}}</td>
    </tr>

    <tr>
      <td>1</td>
      <td>25.0</td>
      <td>{{this.sieveAnalysis.individualE}}</td>
      <td>{{this.sieveAnalysis.cumulativeE}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeE, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeE, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandE}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsE}}</td>
    </tr>

    <tr>
      <td>3/4</td>
      <td>19.0</td>
      <td>{{this.sieveAnalysis.individualF}}</td>
      <td>{{this.sieveAnalysis.cumulativeF}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeF, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeF, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandF}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsF}}</td>
    </tr>

    <tr>
      <td>1/2</td>
      <td>12.5</td>
      <td>{{this.sieveAnalysis.individualG}}</td>
      <td>{{this.sieveAnalysis.cumulativeG}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeG, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeG, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandG}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsG}}</td>
    </tr>

    <tr>
      <td>3/8</td>
      <td>9.5</td>
      <td>{{this.sieveAnalysis.individualH}}</td>
      <td>{{this.sieveAnalysis.cumulativeH}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeH, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeH, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandH}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsH}}</td>
    </tr>

    <tr>
      <td>#4</td>
      <td>4.75</td>
      <td>{{this.sieveAnalysis.individualI}}</td>
      <td>{{this.sieveAnalysis.cumulativeI}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeI, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeI, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandI}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsI}}</td>
    </tr>

    <tr>
      <td>#10</td>
      <td>2.00</td>
      <td>{{this.sieveAnalysis.individualJ}}</td>
      <td>{{this.sieveAnalysis.cumulativeJ}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeJ, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeJ, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandJ}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsJ}}</td>
    </tr>

    <tr>
      <td>#40</td>
      <td>0.425</td>
      <td>{{this.sieveAnalysis.individualK}}</td>
      <td>{{this.sieveAnalysis.cumulativeK}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeK, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeK, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandK}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsK}}</td>
    </tr>

    <tr>
      <td>#100</td>
      <td>0.150</td>
      <td>{{this.sieveAnalysis.individualL}}</td>
      <td>{{this.sieveAnalysis.cumulativeL}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeL, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeL, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandL}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsL}}</td>
    </tr>

    <tr>
      <td>#200</td>
      <td>0.075</td>
      <td>{{this.sieveAnalysis.individualM}}</td>
      <td>{{this.sieveAnalysis.cumulativeM}}</td>
      <td>{{calcRetainedPercent(this.sieveAnalysis.cumulativeM, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{calcPassingPercent(this.sieveAnalysis.cumulativeM, this.sieveAnalysis.totalWeigh).toFixed(2)}}</td>
      <td>{{this.sieveAnalysis.expandM}}</td>
      <td>{{this.sieveAnalysis.specificationLimitsM}}</td>
    </tr>

    <tr>
      <td>Total Wt.</td>
      <td>{{this.sieveAnalysis.totalWeigh}}</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </table>

  <div class="text-center" style="width: 70vw;" *ngIf="sieveAnalysis.lastApproveBy  && (role == 'ROLE_MANAGER' || role == 'ROLE_ADMIN' || role == 'ROLE_DATAENTRY')">
    <button (click)="generatePDF()">Download PDF</button>
  </div>
</div>

