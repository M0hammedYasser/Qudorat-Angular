<div class="container-fluid" style="margin-top: 90px;">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">Atterberg Limits Data Sheet (Update)</h3>
    </div>
    <div class="card-body">
      <form #form="ngForm" (submit)="update()">

        <!-- Header Inputs -->
        <h5 class="text-secondary mb-3">General Information</h5>
        <div class="row g-3 mb-4">
          <div class="col-md-3">
            <label class="form-label">Sample By</label>
            <input type="text" class="form-control" [(ngModel)]="atterbergLimits.sampleBy" name="sampleBy" required>
          </div>
          <div class="col-md-3">
            <label class="form-label">Sample Date</label>
            <input type="date" class="form-control" [(ngModel)]="atterbergLimits.sampleDate" name="sampleDate" required>
          </div>
          <div class="col-md-3">
            <label class="form-label">Test Name</label>
            <input type="text" class="form-control" [(ngModel)]="atterbergLimits.nameOfTest" name="nameOfTest" required>
          </div>
          <div class="col-md-3">
            <label class="form-label">Testing Date</label>
            <input type="date" class="form-control" [(ngModel)]="atterbergLimits.testingDate" name="testingDate"
              required>
          </div>
          <div class="col-md-3">
            <label class="form-label">Standard</label>
            <input type="text" class="form-control" [(ngModel)]="atterbergLimits.classification" name="classification"
              required>
          </div>
          <div class="col-md-3">
            <label class="form-label">Report No</label>
            <input type="text" class="form-control" [(ngModel)]="atterbergLimits.reportNo" name="reportNo" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Remarks</label>
            <textarea class="form-control" [(ngModel)]="atterbergLimits.notes" name="notes" rows="2"></textarea>
          </div>
        </div>

        <!-- Test Data Table -->
        <h5 class="text-secondary mb-3">Test Data</h5>
        <div class="table-responsive mb-4">
          <table class="table table-bordered table-striped text-center align-middle">
            <thead class="table-dark">
              <tr>
                <th rowspan="2" class="align-middle">TEST</th>
                <th colspan="4">PLASTIC LIMIT</th>
                <th colspan="4">LIQUID LIMIT</th>
              </tr>
              <tr>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
              </tr>
            </thead>
            <tbody>
              <!-- Number of Blows -->
              <tr>
                <td class="fw-bold text-start ps-3">Number of Blows <span
                    class="text-muted small d-block">(blows)</span></td>
                <td colspan="4" class="bg-light"></td> <!-- Empty for Plastic Limit -->
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.numberOfBlows5"
                    name="numberOfBlows5"></td>
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.numberOfBlows6"
                    name="numberOfBlows6"></td>
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.numberOfBlows7"
                    name="numberOfBlows7"></td>
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.numberOfBlows8"
                    name="numberOfBlows8"></td>
              </tr>

              <!-- Can Number -->
              <tr>
                <td class="fw-bold text-start ps-3">Can Number</td>
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.canNumber1"
                    name="canNumber1"></td>
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.canNumber2"
                    name="canNumber2"></td>
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.canNumber3"
                    name="canNumber3"></td>
                <td><input type="text" class="form-control" [(ngModel)]="atterbergLimits.canNumber4" name="canNumber4">
                </td> <!-- Keep as text per original -->
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.canNumber5"
                    name="canNumber5"></td>
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.canNumber6"
                    name="canNumber6"></td>
                <td><input type="text" class="form-control" [(ngModel)]="atterbergLimits.canNumber7" name="canNumber7">
                </td> <!-- Keep as text per original -->
                <td><input type="number" class="form-control" [(ngModel)]="atterbergLimits.canNumber8"
                    name="canNumber8"></td>
              </tr>

              <!-- Mass of Empty Can -->
              <tr>
                <td class="fw-bold text-start ps-3">Mass of Empty Can <span class="text-muted small d-block">(g)</span>
                </td>
                <td><input type="number" step="0.01" class="form-control" [(ngModel)]="atterbergLimits.massOfEmptyCan1"
                    name="massOfEmptyCan1"></td>
                <td><input type="number" step="0.01" class="form-control" [(ngModel)]="atterbergLimits.massOfEmptyCan2"
                    name="massOfEmptyCan2"></td>
                <td><input type="number" step="0.01" class="form-control" [(ngModel)]="atterbergLimits.massOfEmptyCan3"
                    name="massOfEmptyCan3"></td>
                <td><input type="number" step="0.01" class="form-control" [(ngModel)]="atterbergLimits.massOfEmptyCan4"
                    name="massOfEmptyCan4"></td>
                <td><input type="number" step="0.01" class="form-control" [(ngModel)]="atterbergLimits.massOfEmptyCan5"
                    name="massOfEmptyCan5"></td>
                <td><input type="number" step="0.01" class="form-control" [(ngModel)]="atterbergLimits.massOfEmptyCan6"
                    name="massOfEmptyCan6"></td>
                <td><input type="number" step="0.01" class="form-control" [(ngModel)]="atterbergLimits.massOfEmptyCan7"
                    name="massOfEmptyCan7"></td>
                <td><input type="number" step="0.01" class="form-control" [(ngModel)]="atterbergLimits.massOfEmptyCan8"
                    name="massOfEmptyCan8"></td>
              </tr>

              <!-- Mass Can & Soil (Wet) -->
              <tr>
                <td class="fw-bold text-start ps-3">Mass Can & Soil (Wet) <span
                    class="text-muted small d-block">(g)</span></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilWet1" name="massCanAndSoilWet1"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilWet2" name="massCanAndSoilWet2"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilWet3" name="massCanAndSoilWet3"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilWet4" name="massCanAndSoilWet4"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilWet5" name="massCanAndSoilWet5"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilWet6" name="massCanAndSoilWet6"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilWet7" name="massCanAndSoilWet7"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilWet8" name="massCanAndSoilWet8"></td>
              </tr>

              <!-- Mass Can & Soil (Dry) -->
              <tr>
                <td class="fw-bold text-start ps-3">Mass Can & Soil (Dry) <span
                    class="text-muted small d-block">(g)</span></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilDry1" name="massCanAndSoilDry1"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilDry2" name="massCanAndSoilDry2"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilDry3" name="massCanAndSoilDry3"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilDry4" name="massCanAndSoilDry4"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilDry5" name="massCanAndSoilDry5"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilDry6" name="massCanAndSoilDry6"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilDry7" name="massCanAndSoilDry7"></td>
                <td><input type="number" step="0.01" class="form-control"
                    [(ngModel)]="atterbergLimits.massCanAndSoilDry8" name="massCanAndSoilDry8"></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Results Section -->
        <h5 class="text-secondary mb-3">Results</h5>
        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">Liquid Limit (LL)</label>
            <input type="number" step="0.1" class="form-control" [(ngModel)]="atterbergLimits.liquidLimit"
              name="liquidLimit">
          </div>
          <div class="col-md-4">
            <label class="form-label">Plastic Limit (PL or wP)</label>
            <input type="number" step="0.1" class="form-control" [(ngModel)]="atterbergLimits.plasticLimit"
              name="plasticLimit">
          </div>
          <div class="col-md-4">
            <label class="form-label">USCS Classification</label>
            <input type="text" class="form-control" [(ngModel)]="atterbergLimits.uscs" name="uscs">
          </div>
        </div>

        <div class="card-footer bg-transparent border-0 d-flex justify-content-end mt-4">
          <button type="submit" class="btn btn-primary px-5" [disabled]="!form.valid">
            <i class="bi bi-save me-2"></i>Update
          </button>
        </div>

      </form>
    </div>
  </div>
</div>